if (self.CavalryLogger) { CavalryLogger.start_js(["gGZb3"]); }

__d("ContextualLayerHideOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("contextchange",this._handleContextChange.bind(this)),this._layer.subscribe("show",this.attach.bind(this)),this._layer.subscribe("hide",this.detach.bind(this))]};a.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach()};a.prototype.attach=function(){"use strict";if(this._listener)return;var a=this._layer.getContextScrollParent();if(a===window)return;this._listener=b("Event").listen(a,"scroll",this._layer.hide.bind(this._layer))};a.prototype.detach=function(){"use strict";this._listener&&this._listener.remove(),this._listener=null};a.prototype._handleContextChange=function(){"use strict";this.detach(),this._layer.isShown()&&this.attach()};Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("Popover",["ContextualLayer","ContextualLayerHideOnScroll","DOM","ParameterizedPopover"],(function(a,b,c,d,e,f){__p&&__p();var g,h;g=babelHelpers.inherits(a,b("ParameterizedPopover"));h=g&&g.prototype;a.prototype._init=function(){"use strict";var a=new(b("ContextualLayer"))({context:this._triggerElem,position:"below",arrowDimensions:{offset:12,length:16},"data-testid":this._config["data-testid"]},b("DOM").create("div"));a.enableBehaviors([b("ContextualLayerHideOnScroll")]);this._config.layer=a;this._config.alignh&&a.setAlignment(this._config.alignh);this._config.layer_content&&a.setContent(this._config.layer_content);this._config.position&&a.setPosition(this._config.position);this._config.arrowDimensions&&a.setArrowDimensions(this._config.arrowDimensions);h._init.call(this)};a.prototype.destroy=function(){"use strict";h.destroy.call(this),this._layer&&this._layer.destroy()};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("PopoverMenu.react",["cx","CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactDOM","SubscriptionsHandler","areEqual","clearImmediate","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=b("React").PropTypes;c=babelHelpers.inherits(i,b("React").Component);h=c&&c.prototype;function i(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$7=function(){this.$1&&(this.$1.release(),this.$1=null),this.$8(),this.$4.setMenu(this.$5(this.props.menu)),this.$6()}.bind(this),this.$5=function(a){__p&&__p();var c=a.props;a=new a.type(c);this.$1=new(b("SubscriptionsHandler"))();c.onItemClick&&this.$1.addSubscriptions(a.subscribe("itemclick",c.onItemClick));c.onItemFocus&&this.$1.addSubscriptions(a.subscribe("focus",c.onItemFocus));c.onItemBlur&&this.$1.addSubscriptions(a.subscribe("blur",c.onItemBlur));c.onChange&&this.$1.addSubscriptions(a.subscribe("change",c.onChange));this.props.onShow&&this.$1.addSubscriptions(this.$3.subscribe("show",this.props.onShow));this.props.onHide&&this.$1.addSubscriptions(this.$3.subscribe("hide",this.props.onHide));return a}.bind(this),this.getMenu=function(){return this.$4.getMenu()}.bind(this),this.isShown=function(){return!!(this.$3&&this.$3.isShown())}.bind(this),this.showPopover=function(a){this.$3.showLayer();if(a){var b=this.$4.getMenu();b.blur();b.focusAnItem(a)}}.bind(this),this.hidePopover=function(){var a=this.$3;a&&a.isShown()&&a.hideLayer()}.bind(this),this.getFocusedItem=function(){var a=this.$4.getMenu();return a.getFocusedItem()}.bind(this),this.$8=function(){var a=this.getMenu();a&&a.forEachItem(function(a){a=a.getRoot().firstElementChild;a&&b("ReactDOM").unmountComponentAtNode(a)})}.bind(this),c}i.getFirstChild=function(a){"use strict";a=a.children;return Array.isArray(a)?a[0]:a};i.getButtonSize=function(a){"use strict";a=i.getFirstChild(a);return a&&a.type.getButtonSize(a.props)};i.prototype.componentDidMount=function(){"use strict";var a=b("ReactDOM").findDOMNode(this.refs.root),c=a.firstChild;b("CSS").addClass(c,"_p");this.$3=new(b("Popover"))(a,c,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled,arrowDimensions:{offset:0,length:0},disableArrowKeyActivation:this.props.disableArrowKeyActivation,enableActivationOnEnter:this.props.enableActivationOnEnter,"data-testid":this.props["data-testid"]});this.$4=new(b("PopoverMenu"))(this.$3,c,this.$5(this.props.menu),this.props.behaviors);this.$6()};i.prototype.componentDidUpdate=function(a){"use strict";b("areEqual")(a.menu,this.props.menu)||(b("clearImmediate")(this.$2),this.$2=b("setImmediate")(this.$7)),this.props.alignh!==a.alignh&&this.$4.getPopover().getLayer().setAlignment(this.props.alignh),this.props.disabled!==a.disabled&&(this.props.disabled?this.$4.disable():this.$4.enable())};i.prototype.$6=function(){"use strict";this.props.onReturnWithoutFocusedItem&&this.$1.addSubscriptions(this.$4.subscribe("returnWithoutFocusedItem",this.props.onReturnWithoutFocusedItem))};i.prototype.render=function(){"use strict";__p&&__p();var a=b("React").Children.map(this.props.children,function(a,c){if(c===0)return b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,"_p")});else return a}),c=Object.assign({},this.props);delete c.onShow;delete c.onHide;delete c.alignh;delete c.position;delete c.layerBehaviors;delete c.behaviors;delete c.menu;delete c.disabled;delete c.disableArrowKeyActivation;delete c.enableActivationOnEnter;return b("React").createElement(b("InlineBlock.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null}),a)};i.prototype.componentWillUnmount=function(){"use strict";b("clearImmediate")(this.$2),this.hidePopover(),this.$1&&(this.$1.release(),this.$1=null),this.$4&&this.$4.destroy()};i.propTypes={alignh:a.oneOf(["left","center","right"]),alignv:a.oneOf(["baseline","bottom","middle","top"]),position:a.oneOf(["above","below","left","right"]),layerBehaviors:a.array,menu:a.object.isRequired,disabled:a.bool,disableArrowKeyActivation:a.bool,enableActivationOnEnter:a.bool,onReturnWithoutFocusedItem:a.func};i.defaultProps={alignv:"middle"};e.exports=i}),null);
__d("FacebuzzActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:FacebuzzActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:FacebuzzActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FacebuzzActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommunityID=function(a){this.$1.community_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setStoryCategory=function(a){this.$1.story_category=a;return this};a.prototype.setStoryID=function(a){this.$1.story_id=a;return this};a.prototype.setStoryOffset=function(a){this.$1.story_offset=a;return this};a.prototype.setStorySort=function(a){this.$1.story_sort=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={community_id:!0,event:!0,story_category:!0,story_id:!0,story_offset:!0,story_sort:!0};e.exports=a}),null);
__d("FacebuzzAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"Post",ATTACHMENT:"Attachment",PHOTO:"Photo",MULTI_PHOTO:"Photos",SHARE:"Shared",EXTERNAL_SHARE:"Link shared",VIDEO:"Video",QUESTION:"Question",DOC:"Document",NOTE:"Note",EVENT:"Event",MLE:"Life event"})}),null);
__d("FacebuzzLoggerActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE_LOAD:"page_load",FETCH_STORIES:"fetch_stories",VIEW_STORY:"view_story",VIEW_STORY_RHC:"view_story_rhc",VIEW_HOVERCARD_RHC:"view_hovercard_rhc",EXPAND_RHC:"expand_rhc",LIKE_STORY:"like_story",UNLIKE_STORY:"unlike_story",HIDE_STORY:"hide_story",READ_STORY:"read_story",LOAD_RHC:"load_rhc"})}),null);
__d("FacebuzzSortType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HOTTEST:"hottest",NEWEST:"newest",TOP_DAILY:"top_daily",TOP_WEEKLY:"top_weekly",TOP_MONTHLY:"top_monthly",TOP_YEARLY:"top_yearly",TOP_ALL_TIME:"top_all_time",ON_THIS_DAY:"on_this_day"})}),null);
__d("FacebuzzConstants",["FacebuzzAttachmentType","FacebuzzCategories","FacebuzzLoggerActionType","FacebuzzSortType","keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({UPDATE_REACTIONS:null,UPDATE_STORIES:null,LOAD_STORIES:null,OPEN_STORY:null,CLOSE_STORY:null,HIDE_STORY:null,REMOVE_STORY:null,CHANGE_VIEW:null,UPDATE_CATEGORIES:null,DELETE_CATEGORY:null});c=b("keyMirror")({VIEW_ACTION:null,SERVER_ACTION:null});e.exports={ActionTypes:a,PayloadSources:c,SortType:b("FacebuzzSortType"),AttachmentType:b("FacebuzzAttachmentType"),Categories:b("FacebuzzCategories"),INITIAL_STORIES:40,STORIES_PER_FETCH:20,ALL_CATEGORY:"all",FEEDBACK_GROUP_ID:793909024032037,LOGGER_CONFIG:"FacebuzzActionsLoggerConfig",LoggerActionType:b("FacebuzzLoggerActionType"),TOP_SORTS:{Today:b("FacebuzzSortType").TOP_DAILY,"Past week":b("FacebuzzSortType").TOP_WEEKLY,"Past 30 days":b("FacebuzzSortType").TOP_MONTHLY,"Past year":b("FacebuzzSortType").TOP_YEARLY,"All time":b("FacebuzzSortType").TOP_ALL_TIME}}}),null);
__d("FacebuzzDispatcher",["Dispatcher_DEPRECATED","FacebuzzConstants"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("Dispatcher_DEPRECATED"));g&&g.prototype;a.prototype.handleViewAction=function(a){"use strict";this.dispatch({payloadSource:b("FacebuzzConstants").PayloadSources.VIEW_ACTION,action:a})};a.prototype.handleServerAction=function(a){"use strict";this.dispatch({payloadSource:b("FacebuzzConstants").PayloadSources.SERVER_ACTION,action:a})};function a(){"use strict";g.apply(this,arguments)}e.exports=new a()}),null);
__d("FacebuzzServerActions",["FacebuzzConstants","FacebuzzDispatcher"],(function(a,b,c,d,e,f){var g=b("FacebuzzConstants").ActionTypes;a={_initialized:!1,initialize:function(a,c,d,e,f,h){if(!h&&this._initialized)return;b("FacebuzzDispatcher").handleServerAction({actionType:g.CHANGE_VIEW,sort:d,category:e,endTime:f});b("FacebuzzDispatcher").handleServerAction({actionType:g.UPDATE_STORIES,stories:a,newOffset:c,reload:!0});this._initialized=!0}};e.exports=a}),null);
__d("FacebuzzControllerMixin",["FacebuzzServerActions","React"],(function(a,b,c,d,e,f){var g=b("React").PropTypes;a=function(a){return{propTypes:{initialStories:g.arrayOf(g.object).isRequired,initialOffset:g.number.isRequired,initialSort:g.string.isRequired,initialCategory:g.string.isRequired,initialEndTime:g.number},UNSAFE_componentWillMount:function(){b("FacebuzzServerActions").initialize(this.props.initialStories,this.props.initialOffset,this.props.initialSort,this.props.initialCategory,this.props.initialEndTime,a),this.constructor.calculateState&&this.setState(this.constructor.calculateState())}}}.bind(this);e.exports=a}),null);
__d("ContextualLayerUpdateOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attachScrollListener.bind(this)),this._layer.subscribe("hide",this._removeScrollListener.bind(this))]};a.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};a.prototype._attachScrollListener=function(){"use strict";if(this._listener)return;var a=this._layer.getContextScrollParent();this._listener=b("Event").listen(a,"scroll",this._layer.updatePosition.bind(this._layer))};a.prototype._removeScrollListener=function(){"use strict";this._listener&&this._listener.remove(),this._listener=null};Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("FacebuzzStoryPropType",["FacebuzzConstants","React"],(function(a,b,c,d,e,f){"use strict";var g=b("FacebuzzConstants").AttachmentType;a=b("React").PropTypes;c=a.shape({id:a.string.isRequired,uri:a.string.isRequired,title:a.string.isRequired,authorName:a.string.isRequired,authorID:a.string.isRequired,authorURI:a.string.isRequired,read:a.bool,viewerReaction:a.number.isRequired,reactionsmap:a.objectOf(a.shape({"default":a.number,reduced:a.string})).isRequired,reactions:a.number.isRequired,comments:a.number.isRequired,answers:a.number,image:a.string,attachmentType:a.oneOf(Object.keys(g).map(function(a){return g[a]})).isRequired,groupName:a.string,groupID:a.string,groupURI:a.string,date:a.number,relativeDate:a.string,isOpen:a.bool,isHidden:a.bool});e.exports=c}),null);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=new(b("AsyncRequest"))(a)}a.prototype.setURI=function(a){"use strict";this.$1.setURI(a);return this};a.prototype.setMethod=function(a){"use strict";this.$1.setMethod(a);return this};a.prototype.setData=function(a){"use strict";this.$1.setData(a);return this};a.prototype.setHandler=function(a){"use strict";this.$1.setHandler(a);return this};a.prototype.setPayloadHandler=function(a){"use strict";this.setHandler(function(b){return a(b.payload)});return this};a.prototype.setErrorHandler=function(a){"use strict";this.$1.setErrorHandler(a);return this};a.prototype.send=function(){"use strict";this.$1.send();return this};a.prototype.abort=function(){"use strict";this.$1.abort()};a.prototype.setReadOnly=function(a){"use strict";this.$1.setReadOnly(a);return this};a.prototype.setAllowCrossOrigin=function(a){"use strict";this.$1.setAllowCrossOrigin(a);return this};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this.$1.setAllowCrossPageTransition(a);return this};e.exports=a}),null);
__d("XFacebuzzController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/trending/",{ref:{type:"String"},sort:{type:"Enum",defaultValue:"hottest",enumType:1},category:{type:"String",defaultValue:"all"},end_time:{type:"Int"}})}),null);
__d("XFacebuzzFetchStoriesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/facebuzz/stories/",{offset:{type:"Int"},limit:{type:"Int"},sort:{type:"Enum",enumType:1},category:{type:"String",defaultValue:"all"},end_time:{type:"Int"},hide_read:{type:"Bool",defaultValue:!1},ids:{type:"IntVector"}})}),null);
__d("XFacebuzzHideStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/facebuzz/hide/",{fbid:{type:"Int",required:!0},unhide:{type:"Bool",defaultValue:!1},mute_group:{type:"Bool",defaultValue:!1}})}),null);
__d("XFacebuzzLikeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/facebuzz/like/",{fbid:{type:"Int",required:!0},reaction:{type:"Enum",required:!0,enumType:0}})}),null);
__d("XFacebuzzMarkStoryReadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/facebuzz/mark_read/",{fbid:{type:"Int",required:!0},story_offset:{type:"Int",required:!0}})}),null);
__d("FacebuzzViewActions",["FacebuzzConstants","FacebuzzDispatcher","XAsyncRequest","XFacebuzzController","XFacebuzzFetchStoriesController","XFacebuzzHideStoryController","XFacebuzzLikeController","XFacebuzzMarkStoryReadController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("FacebuzzConstants").ActionTypes;a=null;c={_requests:{},_storyRequest:a,_getStoryMarkupRequests:{},_updateRequests:{},toggleReaction:function(a,c,d,e,f){__p&&__p();var h=b("XFacebuzzLikeController").getURIBuilder().setInt("fbid",a).setEnum("reaction",d).getURI();this._requests[a]&&this._requests[a].abort();this._requests[a]=new(b("XAsyncRequest"))(h).setHandler(function(c){c=c.payload;var d=c.viewerReaction,e=c.reactions;c=c.reactionsmap;b("FacebuzzDispatcher").handleServerAction({actionType:g.UPDATE_REACTIONS,id:a,viewerReaction:d,reactions:e,reactionsmap:c});this._requests[a]=null}.bind(this)).setErrorHandler(function(){b("FacebuzzDispatcher").handleViewAction({actionType:g.UPDATE_REACTIONS,id:a,viewerReaction:c,reactions:e,reactionsmap:f}),this._requests[a]=null}.bind(this)).send();h=d!==0;b("FacebuzzDispatcher").handleViewAction({actionType:g.UPDATE_REACTIONS,id:a,viewerReaction:d,reactions:e+(h?1:-1),reactionsmap:f})},fetchMoreStories:function(a){b("FacebuzzDispatcher").handleViewAction({actionType:g.LOAD_STORIES});var c=b("XFacebuzzFetchStoriesController").getURIBuilder().setInt("offset",a.offset).setInt("limit",a.limit).setEnum("sort",a.sort).setString("category",a.category).setInt("end_time",a.endTime).setBool("hide_read",a.hideRead).getURI();this._storyRequest&&this._storyRequest.abort();this._storyRequest=new(b("XAsyncRequest"))(c).setHandler(function(c){b("FacebuzzDispatcher").handleServerAction({actionType:g.UPDATE_STORIES,stories:c.payload.stories,newOffset:c.payload.new_offset,reload:a.reload})}).setErrorHandler(function(){}).send()},updateStory:function(a){if(this._updateRequests[a])return;var c=b("XFacebuzzFetchStoriesController").getURIBuilder().setIntVector("ids",[a]).getURI();this._updateRequests[a]=new(b("XAsyncRequest"))(c).setHandler(function(c){b("FacebuzzDispatcher").handleServerAction({actionType:g.UPDATE_STORIES,stories:c.payload.stories}),this._updateRequests[a]=null}.bind(this)).send()},openStory:function(a){b("FacebuzzDispatcher").handleViewAction({actionType:g.OPEN_STORY,id:a})},closeStory:function(a){b("FacebuzzDispatcher").handleViewAction({actionType:g.CLOSE_STORY,id:a})},changeView:function(a,c,d,e){e===void 0&&(e=b("FacebuzzConstants").INITIAL_STORIES),b("FacebuzzDispatcher").handleViewAction({actionType:g.CHANGE_VIEW,sort:a,category:c,endTime:d}),this.fetchMoreStories({offset:0,limit:e,sort:a,category:c,endTime:d})},markStoryRead:function(a,c){a=b("XFacebuzzMarkStoryReadController").getURIBuilder().setInt("fbid",a).setInt("story_offset",c).getURI();new(b("XAsyncRequest"))(a).send()},hideStory:function(a,c,d){this._updateRequests[a]&&(this._updateRequests[a].abort(),this._updateRequests[a]=null);d=b("XFacebuzzHideStoryController").getURIBuilder().setInt("fbid",a).setBool("unhide",!!c).setBool("mute_group",!!d).getURI();b("FacebuzzDispatcher").handleServerAction({actionType:g.HIDE_STORY,id:a,unhide:c});new(b("XAsyncRequest"))(d).send()},removeStory:function(a){b("FacebuzzDispatcher").handleViewAction({actionType:g.REMOVE_STORY,id:a})},getURL:function(a,c,d){return b("XFacebuzzController").getURIBuilder().setEnum("sort",a).setString("category",c).setInt("end_time",d).getURI()}};e.exports=c}),null);
__d("XFacebuzzRenderStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/facebuzz/render_story/",{id:{type:"Int",required:!0}})}),null);
__d("createEmojiElement",["cx","JSXDOM"],(function(a,b,c,d,e,f,g){function a(a,c,d){d=d||16;return b("JSXDOM").span({className:"_5mfr _47e3"},[b("JSXDOM").img({"aria-hidden":!0,className:"img",height:d,src:c,width:d}),b("JSXDOM").span({className:"_7oe"},a)])}e.exports=a}),null);
__d("DOMEmoji",["cx","EmojiImageURL","EmojiRenderer","FBEmojiUtils","JSXDOM","createEmojiElement","flattenArray","gkx","isElementNode"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={MAX_ITEMS:40,transform:function(a,c){c=c||{};var d=c.size||16;return b("flattenArray")(a.map(function(a){if(!b("isElementNode")(a))return b("EmojiRenderer").render(a,function(a){var c=b("FBEmojiUtils").getSupportedKey(a);return c?b("createEmojiElement")(a.join(""),b("EmojiImageURL").getFBEmojiURL(c,d),d):b("JSXDOM").span({className:"_4ay8"+(d===16?" _3kkw":"")},a.join(""))},this.MAX_ITEMS);else return a}.bind(this)))},params:function(a){if(!a)return this;var b=this;return{__params:!0,obj:b,params:a}}};e.exports=a}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){e.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("TransformTextToDOMMixin",["flattenArray","isElementNode"],(function(a,b,c,d,e,f){__p&&__p();var g=3;a={transform:function(a,c){__p&&__p();return b("flattenArray")(a.map(function(a){__p&&__p();if(!b("isElementNode")(a)){var d=a,e=[],f=this.MAX_ITEMS||g;while(f--){var h=c?[d].concat(c):[d];h=this.match.apply(this,h);if(!h)break;e.push(d.substring(0,h.startIndex));e.push(h.element);d=d.substring(h.endIndex)}d&&e.push(d);return e}return a}.bind(this)))},params:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=this;return{__params:!0,obj:d,params:b}}};e.exports=a}),null);
__d("DOMEmote",["cx","fbt","EmojiImageURL","EmoticonEmojiList","EmoticonsList","JSXDOM","SupportedFBEmoji","TransformTextToDOMMixin","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={MAX_ITEMS:40,match:function(a,c){var d=c&&c.getMessengerEmote;a=d?b("EmoticonEmojiList").regexp.exec(a):b("EmoticonsList").regexp.exec(a);if(!a||!a.length)return!1;var e=a[2];a=a.index+a[1].length;d=d?b("EmoticonEmojiList").names[e]:b("EmoticonsList").emotes[e];return{startIndex:a,endIndex:a+e.length,element:this._element(e,d,c)}},_element:function(a,c,d){d=b("EmoticonsList").emoji[c];var e=null;d?e=b("JSXDOM").img({"aria-hidden":!0,className:"img",height:16,src:b("SupportedFBEmoji")[d]?b("EmojiImageURL").getFBEmojiURL(d):b("EmojiImageURL").getFBEmojiExtendedURL(d),width:16}):e=b("JSXDOM").span({"aria-hidden":!0,className:"emoticon emoticon_"+c});d=h._("{emoticonName} emoticon",[h._param("emoticonName",c)]);return b("JSXDOM").span({className:"_47e3 _5mfr",title:d},[e,b("JSXDOM").span({"aria-hidden":!0,className:"_7oe"},a)])}};e.exports=Object.assign(a,b("TransformTextToDOMMixin"))}),null);
__d("transformTextToDOM",["createArrayFromMixed"],(function(a,b,c,d,e,f){function a(a,c){var d=[a];c=b("createArrayFromMixed")(c);c.forEach(function(a){var b,c=a;a.__params&&(b=a.params,c=a.obj);d=c.transform(d,b)});return d}e.exports=a}),null);
__d("emojiAndEmote",["DOMEmoji","DOMEmote","FbtResultBase","transformTextToDOM"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){if(a instanceof b("FbtResultBase"))return[a];var d=c?{isSupportedEmoji:c.isSupportedEmoji}:null;c=c?{getMessengerEmote:c.getMessengerEmote}:null;d=[b("DOMEmoji").params(d),b("DOMEmote").params(c)];return b("transformTextToDOM")(a,d)};e.exports=a}),null);
__d("facebuzzHovercard",["HovercardLink"],(function(a,b,c,d,e,f){function a(a){return a?b("HovercardLink").constructEndpoint({id:a}):null}e.exports=a}),null);
__d("FacebuzzDesktopTrendingUnitStory.react",["cx","ix","AsyncRequest","ContextualLayerHideOnScroll","ContextualLayerUpdateOnScroll","CurrentUser","DateConsts","DOM","DOMContainer.react","FacebuzzActionsTypedLogger","FacebuzzStoryPropType","FacebuzzViewActions","HTML","Image.react","ImageBlock.react","LitestandEllipsis","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","ScrollableArea.react","UFIReactionIcons","UFIReactionsBlingTokens.react","UFIReactionTypes","XFacebuzzRenderStoryController","XUICloseButton.react","XUIContextualDialog.react","XUIGrayText.react","clearTimeout","emojiAndEmote","facebuzzHovercard","formatNumber","getElementText","setTimeout","FacebuzzConstants"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;c=b("React").PropTypes;var k=b("FacebuzzConstants").SortType,l=500,m=b("DateConsts").MS_PER_SEC*2;i=babelHelpers.inherits(n,b("React").Component);i&&i.prototype;n.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this.refs.content);b("LitestandEllipsis").add(a,this.props.height);b("DOM").setContent(a,b("emojiAndEmote")(b("getElementText")(a)))};n.prototype.render=function(){return b("React").createElement("span",babelHelpers["extends"]({ref:"content"},this.props),this.props.text)};function n(){i.apply(this,arguments)}n.propTypes={text:c.string,height:c.number};d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={markup:null,hover:!1},this.$1=null,this.$2=null,this.$3=null,this.$4=function(){b("FacebuzzViewActions").markStoryRead(this.props.story.id,this.props.index),new(b("FacebuzzActionsTypedLogger"))().setEvent("view_story_rhc").setStoryID(this.props.story.id).setStoryOffset(this.props.index).setStorySort(this.props.sortType).log()}.bind(this),this.$5=function(){var a=b("UFIReactionTypes").NONE;this.props.story.viewerReaction===b("UFIReactionTypes").NONE&&(a=b("UFIReactionTypes").LIKE);b("FacebuzzViewActions").toggleReaction(this.props.story.id,this.props.story.viewerReaction,a,this.props.story.reactions,this.props.story.reactionsmap)}.bind(this),this.$8=function(a){!a&&this.state.hover&&b("FacebuzzViewActions").updateStory(this.props.story.id),a||this.$9(),this.setState({hover:a}),this.props.onHover(a)}.bind(this),this.$10=function(){__p&&__p();if(this.state.markup)!this.state.hover&&this.$3==null&&(this.$3=b("setTimeout")(function(){this.setState({hover:!0}),this.$11(),this.$3=null}.bind(this),l));else if(!this.$1){var a=b("XFacebuzzRenderStoryController").getURIBuilder().setInt("id",this.props.story.id).getURI();this.$1=new(b("AsyncRequest"))(a).setHandler(function(a){this.setState({markup:b("HTML").replaceJSONWrapper(a.payload.markup).getRootNode(),hover:!0}),this.props.onHover(!0),b("setTimeout")(function(){this.refs.dialog.updatePosition()}.bind(this),100),this.$11(),new(b("FacebuzzActionsTypedLogger"))().setEvent("view_hovercard_rhc").setStoryID(this.props.story.id).setStoryOffset(this.props.index).setStorySort(this.props.sortType).log()}.bind(this)).setErrorHandler(function(){b("FacebuzzViewActions").removeStory(this.props.story.id)}.bind(this));this.$1.send()}}.bind(this),this.$12=function(){this.state.hover||this.$9(),this.$3&&(b("clearTimeout")(this.$3),this.$3=null),this.$1&&(this.$1.abort(),this.$1=null)}.bind(this),this.$11=function(){this.$2==null&&(this.$2=b("setTimeout")(function(){b("FacebuzzViewActions").markStoryRead(this.props.story.id,this.props.index),this.$2=null}.bind(this),m))}.bind(this),this.$9=function(){this.$2!=null&&(b("clearTimeout")(this.$2),this.$2=null)}.bind(this),this.$13=function(){return!this.state.hover||!this.state.markup||this.props.story.isHidden?null:b("React").createElement(b("XUIContextualDialog.react"),{ref:"dialog",behaviors:{ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},focusContextOnHide:!1,autoFocus:!1,onToggle:this.$8,contextRef:function(){return this.refs.title}.bind(this),hoverContextRef:function(){return this.refs.title}.bind(this),hoverHideDelay:300,shown:!0,position:"left",width:496},b("React").createElement("div",{className:"uiContextualLayerParent"},b("React").createElement(b("ScrollableArea.react"),{className:"_2zzp"},b("React").createElement(b("DOMContainer.react"),null,this.state.markup))))}.bind(this),c}a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abort()};a.prototype.$6=function(a){b("FacebuzzViewActions").hideStory(this.props.story.id,a)};a.prototype.$7=function(){b("FacebuzzViewActions").hideStory(this.props.story.id,!1,!0)};a.prototype.$14=function(){if(b("CurrentUser").isWorkUser()){var a=b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(b("ReactXUIMenu").Item,{onClick:function(){return this.$6(!1)}.bind(this)},"Hide this story"),b("React").createElement(b("ReactXUIMenu").Item,{onClick:function(){return this.$7()}.bind(this)},"Hide all trending stories from this group"));a=b("React").createElement(b("PopoverMenu.react"),{alignh:"right",menu:a},b("React").createElement(b("XUICloseButton.react"),{size:"small",label:"Hide story"}))}else a=b("React").createElement(b("XUICloseButton.react"),{size:"small",label:"Hide story",onClick:function(){return this.$6(!1)}.bind(this)});return b("React").createElement("div",{className:"_j8h"},a)};a.prototype.render=function(){__p&&__p();var a=this.props.story;if(a.isHidden)return b("React").createElement("div",{key:a.id,className:"_j8e"},"This post will be permanently hidden."," ",b("React").createElement("a",{href:"#",onClick:function(){return this.$6(!0)}.bind(this)},"Undo"));var c=a.reactions,d=a.reactionsmap,e=a.viewerReaction,f=a.comments,g=a.answers,i="_21v_",j="_lk3",l;g?(g=g,l=b("React").createElement(b("Image.react"),{className:i,src:h("40446")})):f>2*c?(g=f,l=b("React").createElement(b("Image.react"),{className:i,src:h("99884")})):e!==0?(g=c,l=b("React").createElement(b("Image.react"),{className:j,src:e===b("UFIReactionTypes").LIKE?h("99889"):b("UFIReactionIcons")[e][13],onClick:this.$5})):(g=c,l=b("React").createElement("div",{className:"_2djh"},b("React").createElement("div",{className:"_2dji"},b("React").createElement(b("UFIReactionsBlingTokens.react"),{className:"_2djj _4ar- _ipn",feedback:{reactioncount:c,reactioncountmap:d},max:2,size:"13"})),b("React").createElement("div",{className:"_2djk"}),b("React").createElement("div",{className:"_2djl"},b("React").createElement(b("Image.react"),{className:j,onClick:this.$5,src:h("99887")}))));g>=1e3&&(g=b("formatNumber")(g/1e3,1)+"k");var m;a.groupName&&(m=b("React").createElement("span",null," in ",b("React").createElement("a",{"data-hovercard":b("facebuzzHovercard")(a.groupID),href:a.groupURI},a.groupName)));var o;this.props.sortType===k.ON_THIS_DAY&&(o=b("React").createElement(b("XUIGrayText.react"),null,a.relativeDate));return b("React").createElement(b("ImageBlock.react"),{key:a.id,className:"_4sgm"},b("React").createElement("div",{className:"_lk2"},l,b("React").createElement("div",{className:e!==0?"_5cdz":""},g)),b("React").createElement("div",{className:"_j8g"},this.$13(),b("React").createElement("div",null,b("React").createElement("a",{ref:"title",onMouseOver:this.$10,onMouseOut:this.$12,href:a.uri,onClick:this.$4},b("React").createElement(n,{className:"_4sgp",text:a.title.substr(0,150),height:32})),b("React").createElement("div",{className:"_lk4"},b("React").createElement("a",{"data-hovercard":b("facebuzzHovercard")(a.authorID),href:a.authorURI},a.authorName),m),o),this.$14()))};a.propTypes={story:b("FacebuzzStoryPropType").isRequired,index:c.number.isRequired,onHover:c.func.isRequired};e.exports=a}),null);
__d("FacebuzzStoryStore",["BanzaiLogger","EventEmitter","FacebuzzConstants","FacebuzzDispatcher","immutable","ImmutableObject","UFIReactionTypes"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("FacebuzzConstants").ActionTypes,i=b("FacebuzzConstants").Categories,j=b("FacebuzzConstants").LoggerActionType,k=b("FacebuzzConstants").PayloadSources,l=b("FacebuzzConstants").SortType;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.$FacebuzzStoryStore3=l.HOTTEST,this.$FacebuzzStoryStore4=b("FacebuzzConstants").ALL_CATEGORY,this.$FacebuzzStoryStore11(),this.$FacebuzzStoryStore8=null,this.$FacebuzzStoryStore9={},this.$FacebuzzStoryStore10=b("FacebuzzDispatcher").register(this.$FacebuzzStoryStore12.bind(this))}a.prototype.$FacebuzzStoryStore11=function(){"use strict";this.$FacebuzzStoryStore1=!0,this.$FacebuzzStoryStore2=0,this.$FacebuzzStoryStore6=b("immutable").OrderedMap(),this.$FacebuzzStoryStore7=!1};a.prototype.isLoading=function(){"use strict";return this.$FacebuzzStoryStore1};a.prototype.getOffset=function(){"use strict";return this.$FacebuzzStoryStore2};a.prototype.getCategory=function(){"use strict";return this.$FacebuzzStoryStore4};a.prototype.getCategoryName=function(){"use strict";for(var a in i){var b=i[a];b=b[this.$FacebuzzStoryStore4];if(b)return b}return"All posts"};a.prototype.getSortType=function(){"use strict";return this.$FacebuzzStoryStore3};a.prototype.getSortName=function(){"use strict";return this.$FacebuzzStoryStore3.replace(/_/g," ")};a.prototype.getEndTime=function(){"use strict";return this.$FacebuzzStoryStore5};a.prototype.getStories=function(){"use strict";return this.$FacebuzzStoryStore6};a.prototype.hasReachedEnd=function(){"use strict";return this.$FacebuzzStoryStore7};a.prototype.getActiveStoryID=function(){"use strict";return this.$FacebuzzStoryStore8};a.prototype.getActiveStory=function(){"use strict";return this.$FacebuzzStoryStore8?this.$FacebuzzStoryStore6.get(this.$FacebuzzStoryStore8):null};a.prototype.getDispatchToken=function(){"use strict";return this.$FacebuzzStoryStore10};a.prototype.$FacebuzzStoryStore12=function(a){"use strict";__p&&__p();var c=a.action;a=a.payloadSource;a=a===k.VIEW_ACTION;var d,e;switch(c.actionType){case h.UPDATE_REACTIONS:var f=c.id,g=c.viewerReaction,i=c.reactions,l=c.reactionsmap;d=this.$FacebuzzStoryStore6.get(f);if(!d){!1;return}e=this.$FacebuzzStoryStore6.toIndexedSeq().indexOf(d);b("BanzaiLogger").log(b("FacebuzzConstants").LOGGER_CONFIG,{event:g===b("UFIReactionTypes").LIKE?j.LIKE_STORY:j.UNLIKE_STORY,story_sort:this.$FacebuzzStoryStore3,story_category:this.$FacebuzzStoryStore4,story_id:d.id,story_offset:e});this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6.set(f,b("ImmutableObject").set(d,{viewerReaction:g,reactions:i,reactionsmap:l}));break;case h.UPDATE_STORIES:f=c.stories;f.length===0&&(this.$FacebuzzStoryStore7=!0);c.reload&&(this.$FacebuzzStoryStore6=b("immutable").OrderedMap());f.forEach(function(a){this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6.set(a.id,new(b("ImmutableObject"))(a))}.bind(this));this.$FacebuzzStoryStore1=!1;c.newOffset&&(this.$FacebuzzStoryStore2=c.newOffset);break;case h.LOAD_STORIES:this.$FacebuzzStoryStore1=!0;break;case h.OPEN_STORY:this.$FacebuzzStoryStore8=c.id;d=this.$FacebuzzStoryStore6.get(c.id);d&&(e=this.$FacebuzzStoryStore6.toIndexedSeq().indexOf(d),this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6.set(c.id,b("ImmutableObject").set(d,{read:!0,isOpen:!0})),b("BanzaiLogger").log(b("FacebuzzConstants").LOGGER_CONFIG,{event:j.VIEW_STORY,story_sort:this.$FacebuzzStoryStore3,story_category:this.$FacebuzzStoryStore4,story_id:d.id,story_offset:e}));break;case h.CLOSE_STORY:this.$FacebuzzStoryStore8=null;d=this.$FacebuzzStoryStore6.get(c.id);d&&(this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6.set(c.id,b("ImmutableObject").set(d,{isOpen:!1})));break;case h.HIDE_STORY:d=this.$FacebuzzStoryStore6.get(c.id);d&&(this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6.set(c.id,b("ImmutableObject").set(d,{isHidden:!c.unhide})),this.$FacebuzzStoryStore9[c.id]&&(clearTimeout(this.$FacebuzzStoryStore9[c.id]),delete this.$FacebuzzStoryStore9[c.id]),c.unhide||(this.$FacebuzzStoryStore9[c.id]=setTimeout(function(a){a=this.$FacebuzzStoryStore6.get(c.id);a&&a.isHidden&&(this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6["delete"](c.id));this.emit("change")}.bind(this).bind(this,c.id),3e3)));break;case h.REMOVE_STORY:this.$FacebuzzStoryStore6=this.$FacebuzzStoryStore6["delete"](c.id);break;case h.CHANGE_VIEW:this.$FacebuzzStoryStore3=c.sort;this.$FacebuzzStoryStore4=c.category;this.$FacebuzzStoryStore5=c.endTime;a&&this.$FacebuzzStoryStore11();break;default:return}this.emit("change")};e.exports=new a()}),null);
__d("FluxMixinLegacyInstrumentation",["FluxContainerInstrumentation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.constructor.displayName||a.constructor.name||"FluxMixinLegacy(unknown)"}var h={_callCalculateState:function(){var a=b("FluxContainerInstrumentation").onCalculateStateStart(g(this)),c=this._FluxMixinLegacyInstrumentationCalculateStateCaller.apply(this,arguments);a&&a();return c},UNSAFE_componentWillMount:function(){this.constructor._FluxMixinLegacyInstrumentationOnInitCalled||(b("FluxContainerInstrumentation").onInit(this.constructor),this.constructor._FluxMixinLegacyInstrumentationOnInitCalled=!0)},_FluxMixinLegacyInstrumentationEmittedChangeStores:null,_onInitialStateForInstrumentation:function(){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.initialState(this,g(this))},_onReceivePropsForInstrumentation:function(){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.receiveProps(this,g(this))},_addStoreEmitForInstrumentation:function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.shouldRecord()&&(this._FluxMixinLegacyInstrumentationEmittedChangeStores=this._FluxMixinLegacyInstrumentationEmittedChangeStores||[],b("FluxContainerInstrumentation").addStoreDependencies(this._FluxMixinLegacyInstrumentationEmittedChangeStores,a))},_collectStoreEmitsForInstrumentation:function(){var a=this._FluxMixinLegacyInstrumentationEmittedChangeStores;this._FluxMixinLegacyInstrumentationEmittedChangeStores=null;return a},_logStoreEmitsForInstrumentation:function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.storeEmitChange(this,g(this),a||[])},componentDidUpdate:function(a,c){b("FluxContainerInstrumentation").onDidUpdate(this,g(this),a,this.props,c,this.state)}};function a(a){b("FluxContainerInstrumentation").hasInstrumentation()&&(a.mixins=a.mixins||[],a.mixins.push(h),a._FluxMixinLegacyInstrumentationCalculateStateCaller=a._callCalculateState,delete a._callCalculateState);return a}e.exports={addInstrumentation:a}}),null);
__d("StoreBasedStateMixinHelper",["invariant","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=new(b("SubscriptionsHandler"))()}a.prototype.subscribeCallback=function(a,b){__p&&__p();var c=this.$1.map(function(c){__p&&__p();var d=b!=null?function(d){b&&b(c);return a(d)}:a;if(c.hasChanged&&c.getDispatchToken&&c.addListener)return c.addListener(d);else if(c.subscribe)return c.subscribe("change",d);else if(c.addListener)return c.addListener("change",d);else g(0)});this.$1.length>0&&this.$2.addSubscriptions.apply(this.$2,c)};a.prototype.release=function(){this.$2.release()};e.exports=a}),null);
__d("PureStoreBasedStateMixin",["invariant","FluxMixinLegacyInstrumentation","StoreBasedStateMixinHelper","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("FluxMixinLegacyInstrumentation").addInstrumentation({_callCalculateState:function(){return this.constructor.calculateState()},getInitialState:function(){this._onInitialStateForInstrumentation&&this._onInitialStateForInstrumentation();return this._callCalculateState()},UNSAFE_componentWillMount:function(){__p&&__p();this.constructor.calculateState||g(0);this._recalculateStateID=null;var a=function(){if(this.isMounted()){var a=this._collectStoreEmitsForInstrumentation?this._collectStoreEmitsForInstrumentation():null,b=this._callCalculateState();this.setState(this._logStoreEmitsForInstrumentation!=null?function(){a!=null&&this._logStoreEmitsForInstrumentation&&this._logStoreEmitsForInstrumentation(a);return b}.bind(this):b)}this._recalculateStateID=null}.bind(this);this._mixin=new(b("StoreBasedStateMixinHelper"))(c);this._mixin.subscribeCallback(function(){this._recalculateStateID===null&&(this._recalculateStateID=b("setImmediate")(a))}.bind(this),this._addStoreEmitForInstrumentation)},componentWillUnmount:function(){this._mixin.release(),this._mixin=null}})}.bind(this);e.exports=a}),null);
__d("FacebuzzDesktopTrendingUnit.react",["cx","fbt","ix","Arbiter","FacebuzzActionsTypedLogger","FacebuzzConstants","FacebuzzControllerMixin","FacebuzzDesktopTrendingUnitStory.react","FacebuzzStoryStore","FacebuzzViewActions","Image.react","PureStoreBasedStateMixin","React","ReactComponentWithPureRenderMixin","ShimButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react","fbglyph","requestAnimationFrame","FacebuzzGKOnThisDayTrendingUnit"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=b("React").PropTypes;c=b("FacebuzzConstants").SortType;var k=b("FacebuzzConstants").ALL_CATEGORY,l=b("FacebuzzGKOnThisDayTrendingUnit").gk_result,m=3,n=10,o=15*60*1e3,p=[{sortType:c.HOTTEST,label:h._("Trending now"),icon:i("117290")},{sortType:c.ON_THIS_DAY,label:h._("Trending on this day"),icon:i("134529")}];j=babelHelpers.inherits(q,b("React").PureComponent);j&&j.prototype;q.prototype.render=function(){var a=this.props,c=a.sortType,d=a.onTabChange;a=p.map(function(a){var e=c===a.sortType,f=e?b("React").createElement(b("XUIText.react"),{weight:"bold",size:"meta1"},a.label):b("React").createElement(b("XUIGrayText.react"),{size:"meta1"},a.label);return b("React").createElement(b("ShimButton.react"),{className:"_3van"+(e?" _3vao":""),key:a.sortType,onClick:function(){return d(a.sortType)}},b("React").createElement(b("Image.react"),{src:a.icon,className:"_3-8_"}),f)});return b("React").createElement("div",{className:"_3vaq"},a)};function q(){j.apply(this,arguments)}q.defaultProps={sortType:c.HOTTEST};d=b("React").createClass({displayName:"FacebuzzDesktopTrendingUnit",_timer:null,_hoveredStories:new Set(),mixins:[b("ReactComponentWithPureRenderMixin"),b("PureStoreBasedStateMixin")(b("FacebuzzStoryStore")),b("FacebuzzControllerMixin")(!0)],statics:{calculateState:function(){return{stories:b("FacebuzzStoryStore").getStories(),isLoading:b("FacebuzzStoryStore").isLoading(),sortType:b("FacebuzzStoryStore").getSortType()}}},propTypes:{groups:a.bool},componentDidMount:function(){this._timer=setTimeout(this._refreshStories,o),b("Arbiter").inform("netego_loaded"),new(b("FacebuzzActionsTypedLogger"))().setEvent("load_rhc").setStorySort(this.state.sortType).log()},componentWillUnmount:function(){this._timer&&clearTimeout(this._timer)},render:function(){__p&&__p();var a;l&&(a=b("React").createElement(q,{sortType:this.state.sortType,onTabChange:function(a){new(b("FacebuzzActionsTypedLogger"))().setEvent("load_rhc").setStorySort(a).log(),b("FacebuzzViewActions").changeView(a,k,null,10)}}));if(this.state.isLoading)return b("React").createElement("div",null,a,b("React").createElement("div",{className:"_4b16"},b("React").createElement(b("XUISpinner.react"),{size:"large"})));var c=this.state.stories.toArray();this.state.isExpanded||(c=c.slice(0,m));var d;!this.state.isExpanded?d=b("React").createElement("div",{className:"_4sgm _4sgn",onClick:this._onSeeMoreClick,role:"presentation"},b("React").createElement(b("Image.react"),{className:"_2m03",src:i("99670")}),b("React").createElement("a",{href:"#",className:"_4sgo"},"See More")):d=b("React").createElement("div",{className:"_3-95"});c=c.map(function(a,c){return b("React").createElement(b("FacebuzzDesktopTrendingUnitStory.react"),{key:a.id,story:a,index:c,sortType:this.state.sortType,onHover:function(b){return this._onStoryHover(a.id,b)}.bind(this)})}.bind(this));return b("React").createElement("div",null,a,c,d)},_refreshStories:function(){b("requestAnimationFrame")(function(){if(this._hoveredStories.size)return;b("FacebuzzViewActions").fetchMoreStories({offset:0,limit:n,sort:b("FacebuzzConstants").SortType.HOTTEST,category:b("FacebuzzConstants").ALL_CATEGORY,hideRead:!0,reload:!0});this._timer=setTimeout(this._refreshStories,o)}.bind(this))},_onStoryHover:function(a,b){b?this._hoveredStories.add(a):this._hoveredStories["delete"](a)},_onSeeMoreClick:function(){this.setState({isExpanded:!0},function(){this.props.groups&&b("Arbiter").inform("netego_loaded")}.bind(this)),new(b("FacebuzzActionsTypedLogger"))().setEvent("expand_rhc").setStorySort(this.state.sortType).log()}});e.exports=d}),null);
__d("PageletReactRenderer",["React","ReactDOM","onEnclosingPageletDestroy"],(function(a,b,c,d,e,f){a={constructAndRenderComponent:function(a,c,d){a=b("ReactDOM").render(b("React").createElement(a,c),d);b("onEnclosingPageletDestroy")(d,function(){b("ReactDOM").unmountComponentAtNode(d)});return a}};e.exports=a}),null);